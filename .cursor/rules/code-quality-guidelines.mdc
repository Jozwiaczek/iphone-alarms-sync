---
alwaysApply: true
---
# Code Quality & Development Guidelines

## Clean Code Principles

### Naming & Structure
- **Meaningful Names**: Variables, functions, and classes should reveal their purpose
- **Constants Over Magic Numbers**: Replace hard-coded values with named constants at the top of the file
- **Single Responsibility**: Each function does exactly one thing and is small and focused
- **Clean Structure**: Keep related code together in a logical hierarchy
- **Encapsulation**: Hide implementation details, expose clear interfaces

### File Organization
- **Small Files**: Prefer splitting files into multiple smaller ones, keeping each at ~100 lines maximum
- **The smaller, the better**: Generally, fewer lines per file makes code easier to navigate and understand
- **Utils & Hooks**: Keep utilities and hooks especially small - ideally ~50 lines maximum
- **Extract Components/Utils**: If a file grows beyond limits, extract components, utilities, or hooks into separate files
- **Single Responsibility per File**: Each file should have a clear, focused purpose

### Code Quality
- **DRY (Don't Repeat Yourself)**: Extract repeated code into reusable functions
- **No Comments**: Code should be self-documenting through clear naming. Never add comments - neither obvious ones that describe what code does (e.g., "// render button", "// loop through items") nor explanatory ones. If code needs explanation, refactor it to be clearer
- **Refactor Continuously**: Fix technical debt early, leave code cleaner than you found it

## Development Workflow

### Code Changes
- **Verify Information**: Always verify before presenting. No assumptions or speculation
- **File-by-File**: Make changes file by file for easier review
- **Single Chunk Edits**: Provide all edits for a file in one chunk
- **Preserve Existing Code**: Don't remove unrelated code or functionalities

### Communication Style
- Never use apologies
- Don't summarize changes or give understanding feedback
- Don't show current implementation unless requested
- Don't ask for confirmation of info already in context
- Don't suggest whitespace changes or unnecessary updates
- Provide real file links, not x.md

### What NOT to Do
- Don't invent changes beyond explicit requests
- Don't ask user to verify implementations visible in context
- Don't suggest updates when no modifications needed

## Solution & Architecture

### Simplicity First
- **Prefer simple solutions**: Straightforward > clever
- **Readability over cleverness**: Code should be obvious to other developers
- **When in doubt**: Choose the simpler approach

### Dependency Management
- Remove unused dependencies from `package.json`
- Verify if existing code can achieve the goal before adding new dependency
- Clean up both code AND `package.json` when removing package

## Testing

### When to Test
- âœ… Add tests for complex logic (array/object manipulation, calculations, conditions)
- âŒ Skip tests for simple logic, configurations, React components

### Test Principles
- Keep tests extremely short, simple, focused on key functionality
- Apply DRY and KISS to tests
- Extract setup functions, utils, mock data to beginning of file
- **Minimize mocking**: Extract logic to testable utilities
- **Component extraction**: Extract logic from components to utilities

## Version Control - The 50/72 Rule

### Commit Format

Simple changes:
```
<emoji> <message> (max 50 chars)
```

Multiple major changes:
```
<emoji> <message> (max 50 chars)

* First major change
* Second major change
* Third major change
```

### Rules
- **Language**: Always use English
- **Title**: Maximum 50 characters, ALWAYS as simple and short as possible
- **Body**: Only for multiple major independent changes
- **Body items**: MEGA short, MEGA simple (use `*` for bullets)
- **No scope**: Keep format simple without [scope]
- **No footer**: Keep it simple, no footer section
- **Gitmoji**: Use [gitmoji](https://gitmoji.dev/) to categorize changes visually
- **Format**: `<emoji> message` (e.g., `â™»ï¸ Reorganize structure`)

**Priority: Simplicity and brevity over details**

### Common Gitmoji
- `âœ¨` New feature (`:sparkles:`)
- `ğŸ›` Bug fix (`:bug:`)
- `â™»ï¸` Refactor code (`:recycle:`)
- `ğŸ¨` Improve structure/format (`:art:`)
- `ğŸ’„` Add/update UI/styling (`:lipstick:`)
- `ğŸ“` Add/update documentation (`:memo:`)
- `âœ…` Add/update tests (`:white_check_mark:`)
- `ğŸ”§` Add/update config (`:wrench:`)
- `ğŸšš` Move/rename files (`:truck:`)
- `ğŸ”¥` Remove code/files (`:fire:`)
- `âš¡ï¸` Improve performance (`:zap:`)
- `ğŸš‘ï¸` Critical hotfix (`:ambulance:`)
- `ğŸš¨` Fix linter warnings (`:rotating_light:`)
- `ğŸ—ï¸` Architectural changes (`:building_construction:`)
- `â¬†ï¸` Upgrade dependencies (`:arrow_up:`)
- `â¬‡ï¸` Downgrade dependencies (`:arrow_down:`)
- `â•` Add dependency (`:heavy_plus_sign:`)
- `â–` Remove dependency (`:heavy_minus_sign:`)
- `ğŸ©¹` Simple fix (`:adhesive_bandage:`)
- `ğŸ’š` Fix CI build (`:green_heart:`)
- `ğŸ”’ï¸` Fix security/privacy (`:lock:`)
- `ğŸ·ï¸` Add/update types (`:label:`)

### Examples
âœ… Good: `â™»ï¸ Reorganize structure` (24 chars)
âœ… Good: `âœ¨ Add auth` (12 chars)
âœ… Good with body:
```
â™»ï¸ Improve project

* Refactor data storage
* Add user module
* Update eslint
```
âŒ Bad: `Reorganize components with parent common/ pattern - Move popup/modules/common to...` (90+ chars)
